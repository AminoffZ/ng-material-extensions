!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/material"),require("rxjs"),require("rxjs/operators"),require("@angular/core"),require("lodash")):"function"==typeof define&&define.amd?define("mat-table-filter",["exports","@angular/material","rxjs","rxjs/operators","@angular/core","lodash"],t):t(e["mat-table-filter"]={},e.ng.material,e.rxjs,e.rxjs.operators,e.ng.core,e.LODASH)}(this,function(e,t,i,r,n,o){"use strict";var s={EQUALS:"EQUALS",ANYWHERE:"ANYWHERE",STARTS_WITH:"STARTS_WITH",ENDS_WITH:"ENDS_WITH"},a=function(){function e(){}return e.prototype.filterPredicate=function(e,t,i,r){for(var n=Object.keys(e),o=0;o<n.length;o++){var a=n[o],s=e[a],c=t[a];if(s&&!(s instanceof Array)){if(!c)return!1;if(this.isAlphaNumeric(c)){if(!this.filterPredicateAlphaNumeric(s,c,i,r))return!1}else if(this.isBoolean(c)){if(c!==s)return!1}else if(!this.filterPredicate(s,c,i,r))return!1}}return!0},e.prototype.filterPredicateAlphaNumeric=function(e,t,i,r){var n=e.toString(),o=t.toString();r||(n=n.toUpperCase(),o=o.toUpperCase());var a=!0;switch(i){case s.EQUALS:e!==t&&(a=!1);break;case s.ANYWHERE:o.includes(n)||(a=!1);break;case s.STARTS_WITH:o.startsWith(n)||(a=!1);break;case s.ENDS_WITH:o.endsWith(n)||(a=!1)}return a},e.prototype.isAlphaNumeric=function(e){return"string"==typeof e||"number"==typeof e},e.prototype.isBoolean=function(e){return"boolean"==typeof e},e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=n.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),c=function(){function e(e,t,i){this._filterService=e,this._injectedTable=t,this._viewContainerRef=i,this.debounceTime=400,this.filterType=s.ANYWHERE,this.caseSensitive=!1,this.initCdkTable(),this.initDebounceSubject()}return e.prototype.ngDoCheck=function(){this.isExampleEntityChanged()&&(this._oldExampleEntity=this.toPlainJson(this.exampleEntity),this._exampleEntitySubject.next())},e.prototype.isExampleEntityChanged=function(){return!o.isEqual(this._oldExampleEntity,this.toPlainJson(this.exampleEntity))},e.prototype.toPlainJson=function(e){return e?JSON.parse(JSON.stringify(e)):undefined},e.prototype.initCdkTable=function(){var e=this._viewContainerRef._data.componentView.component;if(e)this._table=e;else{if(!this._injectedTable)throw new Error("Unsupported Angular version");this._table=this._injectedTable}},e.prototype.initDebounceSubject=function(){var t=this;this._exampleEntitySubject=new i.BehaviorSubject(null),this._exampleEntitySubject.pipe(r.debounceTime(this.debounceTime)).subscribe(function(e){t.updateFilterPredicate()})},e.prototype.updateFilterPredicate=function(){var e=this.getMatDataSource();if(e){var t=this;e.filterPredicate=function(e){return t._filterService.filterPredicate(t.exampleEntity,e,t.filterType,t.caseSensitive)},e.filter=this.exampleEntity}},e.prototype.getMatDataSource=function(){return this._table.dataSource},e.decorators=[{type:n.Directive,args:[{selector:"[matTableFilter]",exportAs:"matTableFilter"}]}],e.ctorParameters=function(){return[{type:a},{type:t.MatTable,decorators:[{type:n.Host},{type:n.Self},{type:n.Optional}]},{type:n.ViewContainerRef}]},e.propDecorators={exampleEntity:[{type:n.Input}],debounceTime:[{type:n.Input}],filterType:[{type:n.Input}],caseSensitive:[{type:n.Input}]},e}(),l=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[c],imports:[t.MatTableModule],exports:[c]}]}],e}();e.MatTableFilterService=a,e.MatTableFilter=s,e.MatTableFilterModule=l,e.Éµa=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=mat-table-filter.umd.min.js.map